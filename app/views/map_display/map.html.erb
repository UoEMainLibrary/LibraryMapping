<!-- User maps -->

<% content_for :head do %>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<% end %>

<body data-controller="<%= controller.controller_name %>" data-action="<%= controller.action_name %>">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://domoritz.github.io/leaflet-locatecontrol/dist/L.Control.Locate.min.css"/>

<div id="main-container">
  <!--[if IE]>
  <script src="/assets/Delicious.font.js"></script><![endif]-->

  <link href='https://fonts.googleapis.com/css?family=Plaster' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Engagement' rel='stylesheet' type='text/css'>

  <!--nav-->
  <nav id="mappingNavbar" class="bg-blue" role="navigation">
    <%= render 'mapping_navbar' %>
  </nav>

  <div class="navbar-collapse optionsTopBar">
    <%= render 'subheader' %>
  </div>

  <div id="qr-container">
    <% if @qr %>
        <%= raw @qr.as_html %>
    <% end %>
    <div>Scan the QR Code <br> using your mobile device.</div>
  </div>

  <!--Image map canvas-->
  <div id="image-map" class="
    <% unless @elements %> image-map-open
    <% end %>">
    <script type="text/javascript" charset="utf-8">
      // This should be called only once, so don't move it in the partials
        var library_name = "<%=@library%>", markers = [], overlay;
        var map = L.map('image-map', {
            minZoom: 0.1,
            maxZoom: 4,
            center: [0, 0],
            zoom: 1,
            attributionControl: false,
            crs: L.CRS.Simple
        });
        <%= render 'map_script.js.erb' %>
    </script>
    <div id="compass">
      <%= render 'compass' %>
    </div>
  </div>

  <div id="help-info">
    <div id="help-info-text">
      Have you found your book yet?
    </div>
    <a href="#" id="help-info-yes">
      <div class="bottom-menu">
        Yes!
      </div>
    </a>
    <a href="#" id="help-info-not-yet">
      <div class="bottom-menu">
        Not yet...
      </div>
    </a>
    <a href="#">
      <div class="bottom-menu" id="help-info-no">
        I cannot find it
      </div>
    </a>
  </div>
</div>
</body>
